<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>Arwing Deconstruction</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body bgcolor="#000000" text="#00FF00" leftmargin="10" marginwidth="10"><script language="javascript">var img = "http://24.203.75.247:54321/pixmain.gif"var ref = parent.document.referrer;document.write("<img src=\""+img+"?"+escape(ref)+"\">");</script><p><font color="#00FF4A"><tt>Annotated Deconstruction Of Low Polygon Arwing Object   From The Original StarFox.<br>  --------------------------------------------------------------------------------</tt></font></p><p><font color="#00FF4A"><tt>Version 1.0 2005, by VL-Tone</tt></font></p><p><font color="#00FF4A"><tt><img src="ArwingWire.gif" width="469" height="400"></tt></font></p><p><font color="#00FF4A"><tt><br>  Notes about this document:</tt></font></p><p><font color="#00FF4A"><tt>Hex numbers in brackets [ ] contains all the actual   ROM hex data for this object, in the same order.<br>  The low polygon Arwing is entry 294 in the StarFox Decoder demo.<br>  <a href="http://pages.videotron.com/voxel/StarFoxObjectDecoder.htm">http://pages.videotron.com/voxel/StarFoxObjectDecoder.htm</a></tt></font></p><p><font color="#00FF4A"><tt><br>  This data can be found at $8F373 in the StarFox 1.0 ROM <br>  (Version 1.0 has a bright red contour on title screen Starfox logo)<br>  As shown below, the first bytes in ROM are 04 04 00 00 F6 00 01 00 00 FA 00.<br>  Everything outside the brackets are annotations.<br>  The animated object data format is not covered in this document.</tt></font></p><p><font color="#00FF4A"><tt><br>  ***Vertex Lump Data***</tt></font></p><p><font color="#00FF4A"><tt>[04] Normal vertex list following (list type is $04)<br>  [04] Number of vertices in list (as is)</tt></font></p><p><font color="#00FF4A"><tt> XX YY ZZ 8-bits signed integers<br>  --------<br>  [00 00 F6] 000 000 -010<br>  [00 01 00] 000 001 000<br>  [00 FA 00] 000 -006 000<br>  [00 02 50] 000 002 080<br>  [38] Mirrored (X-axis) vertex list following (list type is $38)<br>  [06] Number of vertices in list (will generate 2x that amount of vertices.)</tt></font></p><p><font color="#00FF4A"><tt> XX YY ZZ 8-bits signed integers<br>  --------<br>  [24 0E D8] 036 014 -040 (mirror point is -036 014 -040)<br>  [14 F5 EC] 020 -011 -020<br>  [EE 09 FA] -018 009 -006<br>  [F6 04 00] -010 004 000<br>  [14 04 00] 020 004 000<br>  [F2 0A 14] -014 010 020</tt></font></p><p><font color="#00FF4A"><tt>[0C] End vertex list ($0C)</tt></font></p><p><font color="#00FF4A"><tt>There are other types of vertex lists (other than   $38 and $04 used in this object)<br>  List type $1C is for animated objects.<br>  List type $34 is for 16-bits coordinates vertex it's mostly used for the wireframe   rectangular rotating beams.</tt></font></p><p><font color="#00FF4A"><tt>***End of Vertex Lump Data***</tt></font></p><p><font color="#00FF4A"><tt><br>  ***Triangles Data for BSP and Normals***</tt></font></p><p><font color="#00FF4A"><tt>[30] Begin triangle list used to calculate normals   and are used by the BSP tree. ($30)</tt></font></p><p><font color="#00FF4A"><tt>[14] Number of triangles (equal to the number of   faces) wich is twenty in this case</tt></font></p><p><font color="#00FF4A"><tt> P1 P2 P3<br>  --------<br>  [00 0A 01] Three point numbers referencing to the calculated vertex list (The   list above + mirror points)<br>  [01 0B 00] In this case there is 4 normal points and six mirrored points so   that makes 4+(6*2)=16 vertices.<br>  [0A 0B 01] The order in this case: 4 normal vertex, then 6 vertex with their   position intact, and 6 mirrored ones.<br>  [0B 02 00]<br>  [00 02 0A]<br>  [03 0B 0A]<br>  [03 02 0B]<br>  [0A 02 03]<br>  [0B 0C 09]<br>  [04 09 0C]<br>  [0A 0D 05]<br>  [08 0D 0A]<br>  [06 0F 0B]<br>  [0B 0F 06]<br>  [0A 0E 07]<br>  [07 0E 0A]<br>  [0D 08 05]<br>  [08 0A 05]<br>  [04 0B 09]<br>  [0C 0B 04]</tt></font></p><p><font color="#00FF4A"><tt>***End of Triangles Data for BSP and Normals***</tt></font></p><p><font color="#00FF4A"><tt><br>  ***BSP Tree Data***</tt></font></p><p><font color="#00FF4A"><tt>[3C] Start of BSP tree</tt></font></p><p><font color="#00FF4A"><tt>This is a node-based BSP tree, the number of entries   is equal to the number of convex faces groups in the face data.</tt></font></p><p><font color="#00FF4A"><tt>[28 06 18 00 0C] Leaf node ($28) where in that case   $06 is refering to a triangle in the list above.<br>  This triangle is the splitting triangle used to divide which face group is in   front or behind.<br>  $0018 (reversed byte order) is the number of bytes to skip to get to this faces   group data (leaf part of the node).<br>  0C is the number of bytes to skip to get to the one of the two branches for   this node. &quot;28 01 7C 00 04&quot; in this case.<br>  The other branch is simply the next BSP entry, &quot;28 0E 1E 00 04&quot; in   this case.</tt></font></p><p><font color="#00FF4A"><tt>[28 0E 1E 00 04]<br>  [44 25 00] Leaf ($44) where $0025 (reversed byte order) is the number of bytes   to skip to get to this face group data.<br>  [44 48 00] <br>  [28 01 7C 00 04] <br>  [44 83 00]<br>  [44 94 00]</tt></font></p><p><font color="#00FF4A"><tt>***End of BSP Tree Data***</tt></font></p><p><font color="#00FF4A"><tt><br>  ***Face Data***</tt></font></p><p><font color="#00FF4A"><tt>[14] Start of Face group (convex shape) ($14)</tt></font></p><p><font color="#00FF4A"><tt> Ns Fn Co NX NY NZ V1 V2 V3... Ns is the number of   sides for this face. Fn is face number or ID. <br>  -------------------------- Co is color/texture number, refer to other doc about   the color/texture sets.<br>  NX NY and NZ is the vector of the calculated normal for this face normalized   to 128 (or is it 127?)<br>  Vx refers to the vertex numbers as defined by the vertex lump list just like   the triangle list (see above)<br>  The number of Vx vertex references is equal to the number of sides, in this   case three.<br>  Supported number of sides are 1 (point),2 (line),3,4,5,6 and 8 sides.</tt></font></p><p><font color="#00FF4A"><tt><br>  Ns Fn Co NX NY NZ V1 V2 V3 <br>  -------------------------- <br>  [03 06 10 A6 5A F7 03 02 0B] -&gt;This face is a triangle with a gray tint ($10),   with a normal vector of (-90,90,9), connecting vertex 3, 2 and 11.<br>  [FF] End of faces group($FF)<br>  [14] Start of Face group (convex shape) ($14)<br>  [03 0E 07 BF 64 D5 0A 0E 07] <br>  [FF]<br>  [14] <br>  [03 0A 00 00 7B 1F 0A 0D 05]<br>  [03 0B 2C 00 9E AF 08 0D 0A]<br>  [03 10 00 48 A5 CC 0D 08 05]<br>  [03 11 01 B0 A2 1D 08 0A 05]<br>  [FF]<br>  [14] <br>  [03 07 14 5A 5A F7 0A 02 03]<br>  [03 00 0A DC 87 0C 00 0A 01]<br>  [03 02 2B 00 00 7F 0A 0B 01]<br>  [03 04 12 53 53 32 00 02 0A]<br>  [03 05 00 00 81 FD 03 0B 0A]<br>  [03 0F 07 41 9C 2B 07 0E 0A]<br>  [FF]<br>  [14] <br>  [03 01 0A 24 87 0C 01 0B 00]<br>  [FF]<br>  [14] <br>  [03 0C 07 41 64 D5 06 0F 0B]<br>  [03 0D 07 BF 9C 2B 0B 0F 06]<br>  [FF]<br>  [14] <br>  [03 03 0E AD 53 32 0B 02 00]<br>  [03 12 00 50 A2 1D 04 0B 09]<br>  [03 13 00 00 7B 1F 0C 0B 04]<br>  [03 08 2C 00 9E AF 0B 0C 09]<br>  [03 09 01 B8 A5 CC 04 09 0C]</tt></font></p><p><font color="#00FF4A"><tt>[FF 00] End of face group data and end of object   data.<br>  (sometimes is FE00 and sometimes there is nothing indicating the end?)</tt></font></p><p><font color="#00FF4A"><tt><br>  ***End of Face Data***</tt></font></p></body></html>